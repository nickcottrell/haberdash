<!DOCTYPE html>
<html>
<head>
    <title>Spectra Bridge Test</title>
    <script src="https://d103b89icpzdo3.cloudfront.net/spectra-theme.js"
            data-node-id="haberdash-ui-theme"
            data-api="https://zf8klzvd4k.execute-api.us-east-2.amazonaws.com/prod/blend"
            data-debug>
    </script>
    <script src="js/spectra-bridge.js"></script>
    <style>
        body {
            font-family: sans-serif;
            padding: 2rem;
            background: var(--background);
            color: var(--text);
        }
        .test-box {
            padding: 2rem;
            margin: 1rem 0;
            background: var(--surface);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
        }
        .primary-button {
            padding: 1rem 2rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-size: var(--font-size-lg);
        }
    </style>
</head>
<body>
    <h1 style="color: var(--primary)">Spectra Bridge Test</h1>

    <div class="test-box">
        <h2>This should be themed!</h2>
        <p>If Spectra is working, this box should have:</p>
        <ul>
            <li>Dark background color (from --background)</li>
            <li>Rounded corners (from --radius-lg)</li>
            <li>Drop shadow (from --shadow-md)</li>
        </ul>
        <button class="primary-button">Primary Button</button>
    </div>

    <div class="test-box">
        <h2>Debug Info</h2>
        <p>Check console (F12) for Spectra logs</p>
        <div id="debug-output" style="font-family: monospace; background: #000; padding: 1rem; margin-top: 1rem; border-radius: 4px;">
            Loading...
        </div>
    </div>

    <script>
        window.addEventListener('spectra-theme-loaded', (e) => {
            const root = getComputedStyle(document.documentElement);
            const debugOutput = document.getElementById('debug-output');

            debugOutput.innerHTML = `
                <strong>Spectra Variables:</strong><br>
                --color-primary: ${root.getPropertyValue('--color-primary')}<br>
                --border-radius-base: ${root.getPropertyValue('--border-radius-base')}<br>
                --space-unit: ${root.getPropertyValue('--space-unit')}<br>
                <br>
                <strong>Haberdash Variables (after bridge):</strong><br>
                --primary: ${root.getPropertyValue('--primary')}<br>
                --radius-lg: ${root.getPropertyValue('--radius-lg')}<br>
                --background: ${root.getPropertyValue('--background')}<br>
                --surface: ${root.getPropertyValue('--surface')}<br>
                --text: ${root.getPropertyValue('--text')}<br>
            `;
        });

        setTimeout(() => {
            const debugOutput = document.getElementById('debug-output');
            if (!document.documentElement.classList.contains('spectra-theme-loaded')) {
                debugOutput.innerHTML = '‚ùå Spectra theme did not load! Check console for errors.';
            }
        }, 3000);
    </script>
</body>
</html>
