<!DOCTYPE html>
<html lang="en" data-theme="live">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Haberdash - Live Spectra Integration</title>

  <!-- CONSOLIDATED HABERDASH STYLESHEET -->
  <link rel="stylesheet" href="haberdash.css">
</head>
<body>
  <div class="loading-indicator" id="loading">
    <p>üåà Loading Spectra color-space data...</p>
  </div>

  <div class="loaded-content" id="content">
    <header>
      <h1>üé® Haberdash UI Elements</h1>
      <p class="subtitle">Dynamic Color-Space Theme Encoding</p>
    </header>

    <!-- Buttons Section -->
    <section>
      <h2>Buttons</h2>

      <div class="demo-section">
        <h3>Button Variants</h3>
        <div class="flex gap-sm" class="flex--wrap">
          <button class="btn">Default</button>
          <button class="btn btn--primary">Primary</button>
          <button class="btn btn--secondary">Secondary</button>
          <button class="btn btn--success">Success</button>
          <button class="btn btn--warning">Warning</button>
          <button class="btn btn--error">Error</button>
        </div>
      </div>

      <div class="demo-section">
        <h3>Button Sizes</h3>
        <div class="flex items-center gap-sm">
          <button class="btn btn--primary btn--sm">Small</button>
          <button class="btn btn--primary">Medium</button>
          <button class="btn btn--primary btn--lg">Large</button>
          <button class="btn btn--primary btn--xl">Extra Large</button>
        </div>
      </div>
    </section>

    <!-- Forms Section -->
    <section>
      <h2>Forms</h2>

      <div class="grid grid--2">
        <div>
          <div class="form-group">
            <label for="name" class="form__label">Full Name</label>
            <input type="text" id="name" class="form__input" placeholder="Enter your name">
            <span class="form__hint">Typography scale driven by F4 Hierarchy</span>
          </div>

          <div class="form-group">
            <label for="email" class="form__label">Email Address</label>
            <input type="email" id="email" class="form__input" placeholder="you@example.com" required>
          </div>

          <div class="form-group">
            <label for="country" class="form__label">Country</label>
            <select id="country" class="form__select">
              <option>Choose an option</option>
              <option>United States</option>
              <option>Canada</option>
              <option>United Kingdom</option>
              <option>Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="message" class="form__label">Message</label>
            <textarea id="message" class="form__textarea" placeholder="Spacing controlled by F3 Density..."></textarea>
          </div>
        </div>

        <div>
          <fieldset class="form__fieldset">
            <legend class="form__legend">Notification Preferences</legend>

            <label class="form__choice">
              <input type="checkbox" name="email-notif">
              <span>Email notifications</span>
            </label>

            <label class="form__choice">
              <input type="checkbox" name="sms-notif">
              <span>SMS notifications</span>
            </label>

            <label class="form__choice">
              <input type="checkbox" name="push-notif" checked>
              <span>Push notifications</span>
            </label>
          </fieldset>

          <fieldset class="form__fieldset">
            <legend class="form__legend">Account Type</legend>

            <label class="form__choice">
              <input type="radio" name="account" value="free" checked>
              <span>Free Account</span>
            </label>

            <label class="form__choice">
              <input type="radio" name="account" value="pro">
              <span>Pro Account</span>
            </label>

            <label class="form__choice">
              <input type="radio" name="account" value="enterprise">
              <span>Enterprise Account</span>
            </label>
          </fieldset>

          <div class="form-group">
            <label for="search" class="form__label">Search Input</label>
            <input type="text" id="search" class="form__input" placeholder="Search...">
          </div>

          <button class="btn btn--primary btn--lg" class="w-full">Submit Form</button>
        </div>
      </div>
    </section>

    <!-- Cards Section -->
    <section>
      <h2>Cards</h2>
      <p class="text-secondary mb-lg">
        Border width controlled by F2 Contrast ‚Ä¢ Border radius by F3 Density ‚Ä¢ Shadows by F2 Contrast
      </p>

      <div class="grid grid--3">
        <article class="card card--dashboard">
          <header class="card__header">
            <div class="card__icon" aria-hidden="true">üìä</div>
            <h3 class="card__title">Analytics</h3>
          </header>
          <div class="card__body">
            <p class="card__description">
              View comprehensive analytics and insights.
            </p>
          </div>
          <footer class="card__actions">
            <a href="#" class="btn btn--primary">Open</a>
          </footer>
        </article>

        <article class="card card--dashboard">
          <header class="card__header">
            <div class="card__icon" aria-hidden="true">‚öôÔ∏è</div>
            <h3 class="card__title">Settings</h3>
          </header>
          <div class="card__body">
            <p class="card__description">
              Configure your preferences and system settings.
            </p>
          </div>
          <footer class="card__actions">
            <a href="#" class="btn btn--secondary">Manage</a>
          </footer>
        </article>

        <article class="card card--dashboard">
          <header class="card__header">
            <div class="card__icon" aria-hidden="true">üë•</div>
            <h3 class="card__title">Team</h3>
          </header>
          <div class="card__body">
            <p class="card__description">
              Add members, assign roles, manage permissions.
            </p>
          </div>
          <footer class="card__actions">
            <a href="#" class="btn btn--primary">Manage</a>
          </footer>
        </article>

        <article class="card card--dashboard">
          <header class="card__header">
            <div class="card__icon" aria-hidden="true">üìà</div>
            <h3 class="card__title">Reports</h3>
          </header>
          <div class="card__body">
            <p class="card__description">
              Generate detailed reports and export data.
            </p>
          </div>
          <footer class="card__actions">
            <a href="#" class="btn btn--secondary">View</a>
          </footer>
        </article>
      </div>
    </section>

    <!-- Sliders Section -->
    <section>
      <h2>Sliders</h2>
      <p class="text-secondary mb-lg">
        Primary color from F1 Origin ‚Ä¢ Spacing from F3 Density
      </p>

      <div class="grid grid--2">
        <div class="slider" data-component="slider">
          <label for="volume-slider" class="slider__label">Volume Control</label>
          <div class="slider__track">
            <input
              type="range"
              id="volume-slider"
              class="slider__input"
              min="0"
              max="100"
              value="75"
            >
          </div>
          <output for="volume-slider" class="slider__output">75</output>
        </div>

        <div class="slider" data-component="slider">
          <label for="risk-slider" class="slider__label">Risk Tolerance</label>
          <div class="slider__track">
            <input
              type="range"
              id="risk-slider"
              class="slider__input"
              min="0"
              max="100"
              value="50"
            >
          </div>
          <output for="risk-slider" class="slider__output">Medium Risk</output>
        </div>
      </div>

      <h3 class="mt-xl mb-md">Preset + Slider Group (Color Picker)</h3>
      <p class="text-secondary mb-lg">
        Common pattern: Radio button presets control multiple sliders
      </p>

      <div class="control-group" data-component="preset-sliders">
        <!-- RGB Sliders -->
        <div class="slider-group">
          <div class="slider">
            <div class="slider__header">
              <h4>Red Channel</h4>
              <p class="slider__description">Control red color intensity</p>
            </div>
            <div class="slider__track">
              <input
                type="range"
                id="r-slider"
                class="slider__input"
                min="0"
                max="255"
                value="255"
                aria-valuemin="0"
                aria-valuemax="255"
                aria-valuenow="255"
              >
            </div>
            <div class="slider__labels">
              <span>None</span>
              <span>Maximum</span>
            </div>
            <output for="r-slider" class="slider__output" class="mt-md">Maximum Red</output>
          </div>

          <div class="slider">
            <div class="slider__header">
              <h4>Green Channel</h4>
              <p class="slider__description">Control green color intensity</p>
            </div>
            <div class="slider__track">
              <input
                type="range"
                id="g-slider"
                class="slider__input"
                min="0"
                max="255"
                value="0"
                aria-valuemin="0"
                aria-valuemax="255"
                aria-valuenow="0"
              >
            </div>
            <div class="slider__labels">
              <span>None</span>
              <span>Maximum</span>
            </div>
            <output for="g-slider" class="slider__output" class="mt-md">No Green</output>
          </div>

          <div class="slider">
            <div class="slider__header">
              <h4>Blue Channel</h4>
              <p class="slider__description">Control blue color intensity</p>
            </div>
            <div class="slider__track">
              <input
                type="range"
                id="b-slider"
                class="slider__input"
                min="0"
                max="255"
                value="0"
                aria-valuemin="0"
                aria-valuemax="255"
                aria-valuenow="0"
              >
            </div>
            <div class="slider__labels">
              <span>None</span>
              <span>Maximum</span>
            </div>
            <output for="b-slider" class="slider__output" class="mt-md">No Blue</output>
          </div>
        </div>

        <!-- Preset Button Cards -->
        <fieldset class="mt-xl">
          <legend>Color Presets</legend>

          <div class="preset-grid">
            <label class="preset-card">
              <input type="radio" name="color-preset" value="#FF0000" data-r="255" data-g="0" data-b="0" checked class="preset-card__input">
              <div class="preset-card__inner">
                <div class="preset-card__swatch" style="background: #FF0000;"></div>
                <div class="preset-card__title">Red</div>
                <div class="preset-card__value">#FF0000</div>
              </div>
            </label>

            <label class="preset-card">
              <input type="radio" name="color-preset" value="#00FF00" data-r="0" data-g="255" data-b="0" class="preset-card__input">
              <div class="preset-card__inner">
                <div class="preset-card__swatch" style="background: #00FF00;"></div>
                <div class="preset-card__title">Green</div>
                <div class="preset-card__value">#00FF00</div>
              </div>
            </label>

            <label class="preset-card">
              <input type="radio" name="color-preset" value="#0000FF" data-r="0" data-g="0" data-b="255" class="preset-card__input">
              <div class="preset-card__inner">
                <div class="preset-card__swatch" style="background: #0000FF;"></div>
                <div class="preset-card__title">Blue</div>
                <div class="preset-card__value">#0000FF</div>
              </div>
            </label>

            <label class="preset-card">
              <input type="radio" name="color-preset" value="#FFFF00" data-r="255" data-g="255" data-b="0" class="preset-card__input">
              <div class="preset-card__inner">
                <div class="preset-card__swatch" style="background: #FFFF00;"></div>
                <div class="preset-card__title">Yellow</div>
                <div class="preset-card__value">#FFFF00</div>
              </div>
            </label>

            <label class="preset-card">
              <input type="radio" name="color-preset" value="#FF00FF" data-r="255" data-g="0" data-b="255" class="preset-card__input">
              <div class="preset-card__inner">
                <div class="preset-card__swatch" style="background: #FF00FF;"></div>
                <div class="preset-card__title">Magenta</div>
                <div class="preset-card__value">#FF00FF</div>
              </div>
            </label>

            <label class="preset-card">
              <input type="radio" name="color-preset" value="#00FFFF" data-r="0" data-g="255" data-b="255" class="preset-card__input">
              <div class="preset-card__inner">
                <div class="preset-card__swatch" style="background: #00FFFF;"></div>
                <div class="preset-card__title">Cyan</div>
                <div class="preset-card__value">#00FFFF</div>
              </div>
            </label>
          </div>
        </fieldset>
      </div>
    </section>

    <!-- Typography Section -->
    <section>
      <h2>Typography</h2>

      <h1>Heading 1</h1>
      <h2>Heading 2</h2>
      <h3>Heading 3</h3>
      <h4>Heading 4</h4>
      <h5>Heading 5</h5>
      <h6>Heading 6</h6>

      <p>This is a paragraph with <a href="#">a link</a>, <strong>bold text</strong>, <em>italic text</em>, and <code>inline code</code>.</p>

      <p class="text--gradient">Gradient text (styled by theme layer)</p>
    </section>

    <!-- Badges Section -->
    <section>
      <h2>Badges</h2>

      <h3>Standard Badges</h3>
      <div class="flex gap-sm flex--wrap mb-lg">
        <span class="badge">Default</span>
        <span class="badge badge--primary">Primary</span>
        <span class="badge badge--success">Success</span>
        <span class="badge badge--warning">Warning</span>
        <span class="badge badge--error">Error</span>
        <span class="badge badge--info">Info</span>
        <span class="badge badge--neutral">Neutral</span>
      </div>

      <h3>Rank Badges</h3>
      <div class="flex gap-sm" class="flex--wrap">
        <span class="badge badge--rank">1</span>
        <span class="badge badge--rank">2</span>
        <span class="badge badge--rank">3</span>
        <span class="badge badge--rank">4</span>
      </div>
    </section>

    <!-- Loading & Progress Section -->
    <section>
      <h2>Loading & Progress</h2>

      <h3>Spinners</h3>
      <div class="flex gap-md items-center" class="mb-lg">
        <div class="spinner spinner--sm"></div>
        <div class="spinner"></div>
        <div class="spinner spinner--lg"></div>
      </div>

      <h3>Progress Bars</h3>
      <div class="mb-md">
        <div class="progress">
          <div class="progress__bar" style="width: 75%;"></div>
        </div>
      </div>

      <div class="mb-md">
        <div class="progress progress--success">
          <div class="progress__bar w-full"></div>
        </div>
      </div>

      <div>
        <div class="progress progress--warning">
          <div class="progress__bar" style="width: 45%;"></div>
        </div>
      </div>
    </section>

    <!-- Alerts Section -->
    <section>
      <h2>Alerts</h2>

      <div class="alert alert--success">
        <p class="alert__title">Success!</p>
        <p class="alert__message">Your changes have been saved successfully.</p>
      </div>

      <div class="alert alert--warning">
        <p class="alert__title">Warning</p>
        <p class="alert__message">Please review your information before proceeding.</p>
      </div>

      <div class="alert alert--error">
        <p class="alert__title">Error</p>
        <p class="alert__message">An error occurred while processing your request.</p>
      </div>

      <div class="alert alert--info">
        <p class="alert__title">Information</p>
        <p class="alert__message">New features are now available. Check them out!</p>
      </div>
    </section>

    <!-- Toast Notification Section -->
    <section>
      <h2>Toast Notifications</h2>
      <p class="mb-md text-secondary">Toast notifications appear in the top-right corner of the page.</p>

      <div class="flex gap-sm" class="flex--wrap">
        <button class="btn btn--primary" onclick="showToast('success')">Show Success Toast</button>
        <button class="btn btn--warning" onclick="showToast('warning')">Show Warning Toast</button>
        <button class="btn btn--error" onclick="showToast('error')">Show Error Toast</button>
        <button class="btn" onclick="showToast('info')">Show Info Toast</button>
      </div>
    </section>

    <!-- File Upload Section -->
    <section>
      <h2>File Upload</h2>

      <div class="upload" id="file-upload">
        <input type="file" id="file-input" class="upload__input" multiple>
        <label for="file-input" class="upload__label">
          <span class="upload__icon">üìÅ</span>
          <span class="upload__text">Drop your file here</span>
          <span class="upload__hint">or click to browse</span>
          <button type="button" class="btn btn--primary upload__button">Choose File</button>
        </label>
        <div class="upload__file-list" id="file-list"></div>
      </div>
    </section>

    <!-- Toggle Switch Section -->
    <section>
      <h2>Toggle Switch</h2>

      <label class="toggle">
        <input type="checkbox" class="toggle__input" id="toggle-1">
        <span class="toggle__track">
          <span class="toggle__thumb"></span>
        </span>
        <span class="toggle__label">Enable notifications</span>
      </label>

      <br><br>

      <label class="toggle">
        <input type="checkbox" class="toggle__input" id="toggle-2" checked>
        <span class="toggle__track">
          <span class="toggle__thumb"></span>
        </span>
        <span class="toggle__label">Dark mode (checked)</span>
      </label>
    </section>

    <!-- Result Card Section -->
    <section>
      <h2>Result Card</h2>

      <div class="result-card">
        <div class="result-card__header">
          <h3 class="result-card__title">Analysis Results</h3>
          <p class="result-card__subtitle">Processing completed on Nov 25, 2025</p>
        </div>
        <div class="result-card__metrics">
          <div class="result-card__metric">
            <span class="result-card__metric-label">Total Items</span>
            <span class="result-card__metric-value">1,247</span>
          </div>
          <div class="result-card__metric">
            <span class="result-card__metric-label">Success Rate</span>
            <span class="result-card__metric-value">98.5%</span>
          </div>
          <div class="result-card__metric">
            <span class="result-card__metric-label">Processing Time</span>
            <span class="result-card__metric-value">3.2s</span>
          </div>
          <div class="result-card__metric">
            <span class="result-card__metric-label">Status</span>
            <span class="result-card__metric-value">‚úì Done</span>
          </div>
        </div>
        <div class="result-card__footer">
          <button class="btn btn--primary">View Details</button>
          <button class="btn" class="ml-sm">Export</button>
        </div>
      </div>
    </section>

    <!-- List Card Section -->
    <section>
      <h2>List Cards</h2>

      <div class="list-card">
        <div class="list-card__header">
          <h3 class="list-card__title">Recent Reports</h3>
        </div>
        <ul class="list-card__list">
          <li class="list-card__item">
            <div class="list-card__item-content">
              <p class="list-card__item-title">Q4 2025 Performance Report</p>
              <p class="list-card__item-subtitle">Updated 2 hours ago</p>
            </div>
            <div class="list-card__item-meta">
              <span class="list-card__item-status list-card__item-status--success">Complete</span>
            </div>
          </li>
          <li class="list-card__item">
            <div class="list-card__item-content">
              <p class="list-card__item-title">User Engagement Analysis</p>
              <p class="list-card__item-subtitle">Updated 5 hours ago</p>
            </div>
            <div class="list-card__item-meta">
              <span class="list-card__item-status list-card__item-status--warning">Pending</span>
            </div>
          </li>
          <li class="list-card__item">
            <div class="list-card__item-content">
              <p class="list-card__item-title">System Health Check</p>
              <p class="list-card__item-subtitle">Updated 1 day ago</p>
            </div>
            <div class="list-card__item-meta">
              <span class="list-card__item-status list-card__item-status--success">Complete</span>
            </div>
          </li>
          <li class="list-card__item">
            <div class="list-card__item-content">
              <p class="list-card__item-title">Security Audit</p>
              <p class="list-card__item-subtitle">Updated 3 days ago</p>
            </div>
            <div class="list-card__item-meta">
              <span class="list-card__item-status list-card__item-status--error">Failed</span>
            </div>
          </li>
        </ul>
      </div>
    </section>

    <footer>
      <p class="mb-sm">
        <strong>Live Spectra Integration:</strong> All design tokens dynamically generated
      </p>
      <p class="text-secondary">
        Change the Spectra node ID to see different themes instantly.
      </p>
      <div class="footer-links">
        <a href="demo-index.html">‚Üê Demo Index</a>
        <a href="craigslist.html">Craigslist Mode (BASE)</a>
      </div>
    </footer>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Toast Notification JavaScript -->
  <script>
    let toastId = 0;

    function showToast(type) {
      const container = document.getElementById('toast-container');
      const id = `toast-${toastId++}`;

      const titles = {
        success: '‚úì Success',
        warning: '‚ö† Warning',
        error: '‚úï Error',
        info: '‚Ñπ Info'
      };

      const messages = {
        success: 'Your action completed successfully!',
        warning: 'Please be careful with this action.',
        error: 'Something went wrong. Please try again.',
        info: 'Here is some useful information.'
      };

      const toast = document.createElement('div');
      toast.className = `toast toast--${type}`;
      toast.id = id;
      toast.innerHTML = `
        <span class="toast__icon">${titles[type].charAt(0)}</span>
        <div class="toast__content">
          <p class="toast__title">${titles[type]}</p>
          <p class="toast__message">${messages[type]}</p>
        </div>
        <button class="toast__close" onclick="closeToast('${id}')">&times;</button>
      `;

      container.appendChild(toast);

      // Auto-dismiss after 5 seconds
      setTimeout(() => closeToast(id), 5000);
    }

    function closeToast(id) {
      const toast = document.getElementById(id);
      if (toast) {
        toast.remove();
      }
    }
  </script>

  <!-- File Upload JavaScript -->
  <script>
    const uploadArea = document.getElementById('file-upload');
    const fileInput = document.getElementById('file-input');
    const fileList = document.getElementById('file-list');
    const uploadButton = uploadArea.querySelector('.upload__button');
    let selectedFiles = [];

    // Make button trigger file input
    uploadButton.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      fileInput.click();
    });

    // Prevent default drag behaviors
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, preventDefaults, false);
      document.body.addEventListener(eventName, preventDefaults, false);
    });

    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }

    // Highlight drop area when dragging over it
    ['dragenter', 'dragover'].forEach(eventName => {
      uploadArea.addEventListener(eventName, () => {
        uploadArea.classList.add('upload--dragover');
      }, false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, () => {
        uploadArea.classList.remove('upload--dragover');
      }, false);
    });

    // Handle dropped files
    uploadArea.addEventListener('drop', (e) => {
      const files = e.dataTransfer.files;
      handleFiles(files);
    }, false);

    // Handle selected files
    fileInput.addEventListener('change', (e) => {
      handleFiles(e.target.files);
    });

    function handleFiles(files) {
      selectedFiles = Array.from(files);
      displayFiles();
    }

    function displayFiles() {
      fileList.innerHTML = '';
      selectedFiles.forEach((file, index) => {
        const fileItem = document.createElement('div');
        fileItem.className = 'upload__file';
        fileItem.innerHTML = `
          <span class="upload__file-name">${file.name}</span>
          <span class="upload__file-size">${formatBytes(file.size)}</span>
          <button class="upload__file-remove" onclick="removeFile(${index})">&times;</button>
        `;
        fileList.appendChild(fileItem);
      });
    }

    function removeFile(index) {
      selectedFiles.splice(index, 1);
      displayFiles();
    }

    function formatBytes(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
    }
  </script>

  <!-- Slider interactivity -->
  <script>
    // Function to get semantic label for RGB sliders
    function getColorLabel(value, colorName) {
      if (value === 0) return `No ${colorName}`;
      if (value < 85) return `Low ${colorName}`;
      if (value < 170) return `Medium ${colorName}`;
      if (value < 255) return `High ${colorName}`;
      return `Maximum ${colorName}`;
    }

    document.querySelectorAll('input[type="range"]').forEach(slider => {
      const output = document.querySelector(`output[for="${slider.id}"]`);
      if (!output) return;

      slider.addEventListener('input', (e) => {
        const value = parseInt(e.target.value);

        if (slider.id === 'r-slider') {
          output.textContent = getColorLabel(value, 'Red');
        } else if (slider.id === 'g-slider') {
          output.textContent = getColorLabel(value, 'Green');
        } else if (slider.id === 'b-slider') {
          output.textContent = getColorLabel(value, 'Blue');
        } else if (slider.id === 'risk-slider') {
          if (value < 33) output.textContent = 'Low Risk';
          else if (value < 67) output.textContent = 'Medium Risk';
          else output.textContent = 'High Risk';
        } else {
          output.textContent = value;
        }
      });
    });
  </script>

  <!-- Preset + Slider Synchronization -->
  <script>
    const presetRadios = document.querySelectorAll('input[name="color-preset"]');
    const rSlider = document.getElementById('r-slider');
    const gSlider = document.getElementById('g-slider');
    const bSlider = document.getElementById('b-slider');
    const rOutput = document.querySelector('output[for="r-slider"]');
    const gOutput = document.querySelector('output[for="g-slider"]');
    const bOutput = document.querySelector('output[for="b-slider"]');

    // When a preset is selected, update sliders
    presetRadios.forEach(radio => {
      radio.addEventListener('change', (e) => {
        if (e.target.checked) {
          const r = parseInt(e.target.dataset.r);
          const g = parseInt(e.target.dataset.g);
          const b = parseInt(e.target.dataset.b);

          rSlider.value = r;
          gSlider.value = g;
          bSlider.value = b;

          rOutput.textContent = getColorLabel(r, 'Red');
          gOutput.textContent = getColorLabel(g, 'Green');
          bOutput.textContent = getColorLabel(b, 'Blue');
        }
      });
    });
  </script>

  <!-- VRGB THEME LOADER - Uses token_generator.py for consistent theming with builder -->
  <!-- Auto-detects localhost vs production - no hardcoded URLs needed -->
  <script src="js/vrgb-theme-loader.js"
          data-node-id="haberdash-ui-theme">
  </script>
  <script src="js/spectra-bridge.js?v=81a7c6e"></script>

  <!-- Display Spectra data -->
  <script>
    // Listen for VRGB theme loaded event
    window.addEventListener('vrgb-theme-loaded', (event) => {
      // Hide loading, show content
      document.getElementById('loading').classList.add('hidden');
      document.getElementById('content').classList.add('visible');
    });

    // Fallback timeout in case theme fails to load
    setTimeout(() => {
      if (!document.documentElement.classList.contains('vrgb-theme-loaded')) {
        document.getElementById('loading').innerHTML = `
          <p class="text-error">‚ùå Failed to load Spectra data</p>
          <p class="text-secondary mt-sm">
            Check console for errors. The API might be unavailable or the node ID might not exist.
          </p>
        `;

        // Still show content with fallback theme
        setTimeout(() => {
          document.getElementById('loading').classList.add('hidden');
          document.getElementById('content').classList.add('visible');
        }, 2000);
      }
    }, 5000);
  </script>
</body>
</html>
