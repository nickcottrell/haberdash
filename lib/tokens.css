/*
 * Haberdash Design Tokens — SPECTRA EDITION
 * All visual & emotional tokens driven by the 4 VRGB dimensions
 */

:root {
  /* ==================================== */
  /* 1. CORE VRGB INPUTS — injected by the builder */
  /* ==================================== */
  --d1_h: 210;          /* Hue from Color Harmony */
  --d1_s: 70%;          /* Saturation from Color Harmony */
  --d1_l: 50%;          /* Lightness from Color Harmony */
  --d2_l: 50;           /* L* from Edge Definition */
  --d3_l: 50;           /* L* from Spatial Density */
  --d4_l: 50;           /* L* from Visual Hierarchy */

  /* ==================================== */
  /* 2. PRIMARY PALETTE — derived from D1 */
  /* ==================================== */
  --primary:        hsl(var(--d1_h), calc(var(--d1_s) * 1.1), calc(var(--d1_l) + 12%));
  --primary-hover:  hsl(var(--d1_h), calc(var(--d1_s) * 1.2), calc(var(--d1_l) + 18%));
  --primary-light:  hsl(var(--d1_h), calc(var(--d1_s) * 0.6), calc(var(--d1_l) + 40%));
  --secondary:      hsl(var(--d1_h), 20%, 40%);

  /* Background / surface — inverted lightness from D1 + breathing from D3 */
  --background:     hsl(var(--d1_h), 15%, calc(98% - (var(--d1_l) * 0.9) + (var(--d3_l) * 0.1)));
  --surface:        hsl(var(--d1_h), 12%, calc(96% - (var(--d1_l) * 0.8) + (var(--d3_l) * 0.15)));
  --surface-light:  hsl(var(--d1_h), 10%, calc(97% - (var(--d1_l) * 0.7) + (var(--d3_l) * 0.2)));

  --text:           hsl(var(--d1_h), 10%, calc(10% + (var(--d1_l) * 0.3)));
  --text-heading:   hsl(var(--d1_h), 15%, calc(5% + (var(--d1_l) * 0.25)));
  --text-secondary: hsl(var(--d1_h), 10%, calc(40% + (var(--d1_l) * 0.35)));

  --border:         hsl(var(--d1_h), 15%, calc(80% - (var(--d1_l) * 0.6)));
  --border-light:   hsl(var(--d1_h), 10%, calc(85% - (var(--d1_l) * 0.5)));

  /* ==================================== */
  /* 3. SPACING — driven by Spatial Density (D3) */
  /* ==================================== */
  --space-unit: 1rem;
  --space-multiplier: calc(0.8 + (var(--d3_l) / 200)); /* 0.8 → 1.3 */
  --space-2xs: calc(0.125rem * var(--space-multiplier));
  --space-xs:  calc(0.25rem  * var(--space-multiplier));
  --space-sm:  calc(0.5rem   * var(--space-multiplier));
  --space-md:  calc(0.75rem  * var(--space-multiplier));
  --space-lg:  calc(1rem     * var(--space-multiplier));
  --space-xl:  calc(1.5rem   * var(--space-multiplier));
  --space-2xl: calc(2rem     * var(--space-multiplier));
  --space-3xl: calc(2.5rem   * var(--space-multiplier));

  /* ==================================== */
  /* 4. BORDER RADIUS — curvature follows saturation (D1) + edge softness (D2) */
  /* ==================================== */
  --radius-base: calc(4px + (var(--d1_s) / 8) + ((100 - var(--d2_l)) / 10));
  --radius-sm:   calc(var(--radius-base) * 0.5);
  --radius-md:   var(--radius-base);
  --radius-lg:   calc(var(--radius-base) * 1.5);
  --radius-xl:   calc(var(--radius-base) * 2);
  --radius-full: 9999px;

  /* ==================================== */
  /* 5. SHADOWS — depth from Edge Definition (D2) + mood lightness */
  /* ==================================== */
  --shadow-intensity: calc((100 - var(--d2_l)) / 8);
  --shadow-sm: 0 calc(1px * var(--shadow-intensity)) calc(2px * var(--shadow-intensity)) rgba(0,0,0,0.05);
  --shadow-md: 0 calc(4px * var(--shadow-intensity)) calc(6px * var(--shadow-intensity)) rgba(0,0,0,0.1);
  --shadow-lg: 0 calc(10px * var(--shadow-intensity)) calc(20px * var(--shadow-intensity)) rgba(0,0,0,0.15);

  /* ==================================== */
  /* 6. TYPOGRAPHY — fully alive */
  /* ==================================== */
  --type-lightness: calc((var(--d1_l) * 0.7) + (var(--d3_l) * 0.3));
  --font-size-base: calc(1rem + (var(--type-lightness) / 320));

  --line-height-normal:  calc(1.5 + (var(--d3_l) / 140));
  --line-height-tight:   calc(1.25 + (var(--d3_l) / 400));
  --line-height-relaxed: calc(1.75 + (var(--d3_l) / 120));

  --letter-spacing-tight:   calc(-0.02em + (var(--d3_l) / -1500));
  --letter-spacing-normal:  calc(0em + (var(--d3_l) / 1200));

  --edge-sharpness: calc(100 - var(--d2_l));
  --font-weight-medium: calc(500 + (var(--edge-sharpness) * 1.4));
  --font-weight-bold:   calc(700 + (var(--edge-sharpness) * 1.8));

  --hierarchy-strength: calc(100 - var(--d4_l));
  --heading-scale:      calc(1.18 + (var(--hierarchy-strength) / 160));

  --font-size-lg:    calc(var(--font-size-base) * var(--heading-scale));
  --font-size-xl:    calc(var(--font-size-lg)    * var(--heading-scale));
  --font-size-2xl:   calc(var(--font-size-xl)    * var(--heading-scale));
  --font-size-3xl:   calc(var(--font-size-2xl)   * calc(var(--heading-scale) * 1.12));

  /* ==================================== */
  /* 7. TRANSITIONS — energy from hue warmth + density */
  /* ==================================== */
  --transition-base: calc(180ms + (var(--d1_h) / 360 * 300ms) + (var(--d3_l) / 200 * 200ms)) cubic-bezier(0.16, 1, 0.3, 1);
  --transition-fast: calc(var(--transition-base) * 0.6);
  --transition-slow: calc(var(--transition-base) * 1.6);

  /* ==================================== */
  /* 8. SEMANTIC FEEDBACK COLORS */
  /* ==================================== */
  --success: hsl(140, 60%, 50%);
  --warning: hsl(45, 90%, 55%);
  --error: hsl(0, 70%, 55%);
  --info: hsl(200, 70%, 55%);

  /* ==================================== */
  /* 9. COMPONENT INFRASTRUCTURE — Required by component API */
  /* ==================================== */
  /* Form controls */
  --checkbox-size: 1.125rem;
  --radio-size: 1.125rem;
  --toggle-width: 48px;
  --toggle-height: 24px;
  --toggle-thumb-size: 20px;
  --toggle-thumb-offset: 2px;
  --slider-track-height: 8px;
  --slider-thumb-size: 18px;

  /* Loading indicators */
  --spinner-size: 2rem;
  --spinner-size-sm: 1.25rem;
  --spinner-size-lg: 3rem;
  --progress-height: 0.5rem;

  /* Badges and icons */
  --badge-rank-size: 2rem;
  --icon-size-sm: 1rem;
  --icon-size-md: 1.5rem;
  --icon-size-lg: 2rem;
  --icon-size-xl: 2.5rem;
  --icon-size-2xl: 3rem;
  --icon-size-3xl: 3rem;

  /* ==================================== */
  /* 10. INTERACTION UTILITIES */
  /* ==================================== */
  --color-white: white;
  --border-width-sm: 1px;
  --border-width-md: 2px;
  --border-width-lg: 3px;
  --border-width-xl: 4px;
  --opacity-hover: 0.92;
  --opacity-disabled: 0.5;
  --hover-lift: -1px;
  --hover-lift-lg: -2px;
  --focus-ring-shadow: 0 0 0 3px hsla(var(--d1_h), 70%, 50%, 0.25);
}
