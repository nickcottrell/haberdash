<!DOCTYPE html>
<html lang="en" data-theme="base">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Haberdash - Craigslist Mode (BASE Theme)</title>

  <!-- BASE LAYER + THEME LAYER -->
  <link rel="stylesheet" href="css/haberdash-base.css">
  <link rel="stylesheet" href="css/themes/spectra.css">

  <style>
    body {
      max-width: 800px;
      margin: 2em auto;
      padding: 0 1em;
    }

    header {
      margin-bottom: 2em;
      padding-bottom: 1em;
      border-bottom: 1px solid #000;
    }

    section {
      margin-bottom: 3em;
    }

    section h2 {
      margin-bottom: 1em;
      font-size: 1.5em;
    }

    section h3 {
      margin: 1.5em 0 0.75em 0;
      font-size: 1.25em;
    }

    .divider {
      border-top: 1px solid #000;
      margin: 3em 0;
    }
  </style>
</head>
<body>
  <header>
    <h1>Haberdash Components - Craigslist Mode</h1>
    <p><strong>BASE Theme via Spectra</strong> - Pure semantic HTML with minimal styling</p>
    <p>This is the BASE theme preset (node-id="BASE"). Browser-default aesthetic with no animations, shadows, or rounded corners.</p>
  </header>

  <!-- Buttons Section -->
  <section>
    <h2>Buttons</h2>
    <div class="flex gap-sm" style="margin-bottom: 1em; flex-wrap: wrap;">
      <button class="btn">Default Button</button>
      <button class="btn btn--primary">Primary</button>
      <button class="btn btn--secondary">Secondary</button>
      <button class="btn btn--success">Success</button>
      <button class="btn btn--error">Error</button>
    </div>

    <div class="flex gap-sm flex--wrap">
      <button class="btn btn--sm">Small</button>
      <button class="btn">Medium</button>
      <button class="btn btn--lg">Large</button>
      <button class="btn" disabled>Disabled</button>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Forms Section -->
  <section>
    <h2>Forms</h2>

    <div class="form-group">
      <label for="name" class="form__label">Full Name</label>
      <input type="text" id="name" class="form__input" placeholder="Enter your name">
      <span class="form__hint">This is a hint message</span>
    </div>

    <div class="form-group">
      <label for="email" class="form__label">Email Address</label>
      <input type="email" id="email" class="form__input" placeholder="you@example.com" required>
    </div>

    <div class="form-group">
      <label for="country" class="form__label">Country</label>
      <select id="country" class="form__select">
        <option>Choose an option</option>
        <option>United States</option>
        <option>Canada</option>
        <option>United Kingdom</option>
        <option>Other</option>
      </select>
    </div>

    <div class="form-group">
      <label for="message" class="form__label">Message</label>
      <textarea id="message" class="form__textarea" placeholder="Write your message here..."></textarea>
    </div>

    <fieldset class="form__fieldset">
      <legend class="form__legend">Notification Preferences</legend>

      <label class="form__choice">
        <input type="checkbox" name="email-notif">
        <span>Email notifications</span>
      </label>

      <label class="form__choice">
        <input type="checkbox" name="sms-notif">
        <span>SMS notifications</span>
      </label>

      <label class="form__choice">
        <input type="checkbox" name="push-notif" checked>
        <span>Push notifications</span>
      </label>
    </fieldset>

    <fieldset class="form__fieldset">
      <legend class="form__legend">Account Type</legend>

      <label class="form__choice">
        <input type="radio" name="account" value="free" checked>
        <span>Free Account</span>
      </label>

      <label class="form__choice">
        <input type="radio" name="account" value="pro">
        <span>Pro Account</span>
      </label>

      <label class="form__choice">
        <input type="radio" name="account" value="enterprise">
        <span>Enterprise Account</span>
      </label>
    </fieldset>

    <div class="form-group">
      <label for="search" class="form__label">Search Input</label>
      <input type="text" id="search" class="form__input" placeholder="Search...">
    </div>

    <button class="btn btn--primary">Submit Form</button>
  </section>

  <div class="divider"></div>

  <!-- Cards Section -->
  <section>
    <h2>Cards</h2>

    <div class="grid grid--2">
      <article class="card card--dashboard">
        <header class="card__header">
          <div class="card__icon" aria-hidden="true">üìä</div>
          <h3 class="card__title">Analytics Dashboard</h3>
        </header>
        <div class="card__body">
          <p class="card__description">
            View comprehensive analytics and insights about your data.
          </p>
        </div>
        <footer class="card__actions">
          <a href="#" class="btn btn--primary">Open Dashboard</a>
        </footer>
      </article>

      <article class="card card--dashboard">
        <header class="card__header">
          <div class="card__icon" aria-hidden="true">‚öôÔ∏è</div>
          <h3 class="card__title">Settings</h3>
        </header>
        <div class="card__body">
          <p class="card__description">
            Configure your account preferences and system settings.
          </p>
        </div>
        <footer class="card__actions">
          <a href="#" class="btn btn--secondary">Manage Settings</a>
        </footer>
      </article>

      <article class="card card--dashboard">
        <header class="card__header">
          <div class="card__icon" aria-hidden="true">üì§</div>
          <h3 class="card__title">Upload</h3>
        </header>
        <div class="card__body">
          <p class="card__description">
            Upload files and documents for processing.
          </p>
        </div>
        <footer class="card__actions">
          <a href="#" class="btn btn--primary">Upload Files</a>
        </footer>
      </article>

      <article class="card card--dashboard">
        <header class="card__header">
          <div class="card__icon" aria-hidden="true">üìà</div>
          <h3 class="card__title">Reports</h3>
        </header>
        <div class="card__body">
          <p class="card__description">
            Generate detailed reports and export your data.
          </p>
        </div>
        <footer class="card__actions">
          <a href="#" class="btn btn--secondary">View Reports</a>
        </footer>
      </article>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Sliders Section -->
  <section>
    <h2>Sliders</h2>

    <h3>Single Sliders</h3>

    <div class="slider" data-component="slider">
      <label for="volume-slider" class="slider__label">Volume Control</label>
      <div class="slider__track">
        <input
          type="range"
          id="volume-slider"
          class="slider__input"
          min="0"
          max="100"
          value="50"
          aria-valuemin="0"
          aria-valuemax="100"
          aria-valuenow="50"
        >
      </div>
      <output for="volume-slider" class="slider__output">50</output>
      <div class="slider__labels">
        <span>Quiet</span>
        <span>Loud</span>
      </div>
    </div>

    <div class="slider" data-component="slider">
      <label for="risk-slider" class="slider__label">Risk Tolerance</label>
      <div class="slider__track">
        <input
          type="range"
          id="risk-slider"
          class="slider__input"
          min="0"
          max="100"
          value="33"
          aria-valuemin="0"
          aria-valuemax="100"
          aria-valuenow="33"
          aria-valuetext="Low Risk"
        >
      </div>
      <output for="risk-slider" class="slider__output">Low Risk</output>
      <div class="slider__labels">
        <span>Conservative</span>
        <span>Balanced</span>
        <span>Aggressive</span>
      </div>
    </div>

    <h3>Preset + Slider Group (Color Picker)</h3>
    <p>Common pattern: Radio button presets control multiple sliders</p>

    <div class="control-group" data-component="preset-sliders" style="border: 1px solid #000; padding: 1.5em;">
      <!-- RGB Sliders -->
      <div class="slider-group">
        <div class="slider">
          <div class="slider__header">
            <div style="font-size: 1.25em; font-weight: bold;">Red Channel</div>
            <div style="font-size: 0.875em;">Control red color intensity</div>
          </div>
          <div class="slider__track">
            <input
              type="range"
              id="r-slider"
              class="slider__input"
              min="0"
              max="255"
              value="255"
              aria-valuemin="0"
              aria-valuemax="255"
              aria-valuenow="255"
            >
          </div>
          <div class="slider__labels">
            <span>None</span>
            <span>Maximum</span>
          </div>
          <output for="r-slider" class="slider__output mt-md">Maximum Red</output>
        </div>

        <div class="slider">
          <div class="slider__header">
            <div style="font-size: 1.25em; font-weight: bold;">Green Channel</div>
            <div style="font-size: 0.875em;">Control green color intensity</div>
          </div>
          <div class="slider__track">
            <input
              type="range"
              id="g-slider"
              class="slider__input"
              min="0"
              max="255"
              value="0"
              aria-valuemin="0"
              aria-valuemax="255"
              aria-valuenow="0"
            >
          </div>
          <div class="slider__labels">
            <span>None</span>
            <span>Maximum</span>
          </div>
          <output for="g-slider" class="slider__output mt-md">No Green</output>
        </div>

        <div class="slider">
          <div class="slider__header">
            <div style="font-size: 1.25em; font-weight: bold;">Blue Channel</div>
            <div style="font-size: 0.875em;">Control blue color intensity</div>
          </div>
          <div class="slider__track">
            <input
              type="range"
              id="b-slider"
              class="slider__input"
              min="0"
              max="255"
              value="0"
              aria-valuemin="0"
              aria-valuemax="255"
              aria-valuenow="0"
            >
          </div>
          <div class="slider__labels">
            <span>None</span>
            <span>Maximum</span>
          </div>
          <output for="b-slider" class="slider__output mt-md">No Blue</output>
        </div>
      </div>

      <!-- Preset Button Cards -->
      <fieldset class="form__fieldset" style="border: none; padding: 0; margin-top: 1.5em;">
        <legend class="form__legend" style="font-weight: bold; margin-bottom: 0.75em;">Color Presets</legend>

        <div class="preset-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.75em;">
          <label class="preset-card" style="display: flex; align-items: flex-start; gap: 0.5em; cursor: pointer; border: 2px solid #000; padding: 1em;">
            <input type="radio" name="color-preset" value="#FF0000" data-r="255" data-g="0" data-b="0" checked style="margin-top: 0.25em;">
            <div style="flex: 1;">
              <div style="display: inline-block; width: 2em; height: 2em; background: #FF0000; border: 1px solid #000; margin-bottom: 0.5em;"></div>
              <div style="font-weight: bold;">Red</div>
              <div style="font-size: 0.75em; font-family: monospace;">#FF0000</div>
            </div>
          </label>

          <label class="preset-card" style="display: flex; align-items: flex-start; gap: 0.5em; cursor: pointer; border: 2px solid #000; padding: 1em;">
            <input type="radio" name="color-preset" value="#00FF00" data-r="0" data-g="255" data-b="0" style="margin-top: 0.25em;">
            <div style="flex: 1;">
              <div style="display: inline-block; width: 2em; height: 2em; background: #00FF00; border: 1px solid #000; margin-bottom: 0.5em;"></div>
              <div style="font-weight: bold;">Green</div>
              <div style="font-size: 0.75em; font-family: monospace;">#00FF00</div>
            </div>
          </label>

          <label class="preset-card" style="display: flex; align-items: flex-start; gap: 0.5em; cursor: pointer; border: 2px solid #000; padding: 1em;">
            <input type="radio" name="color-preset" value="#0000FF" data-r="0" data-g="0" data-b="255" style="margin-top: 0.25em;">
            <div style="flex: 1;">
              <div style="display: inline-block; width: 2em; height: 2em; background: #0000FF; border: 1px solid #000; margin-bottom: 0.5em;"></div>
              <div style="font-weight: bold;">Blue</div>
              <div style="font-size: 0.75em; font-family: monospace;">#0000FF</div>
            </div>
          </label>

          <label class="preset-card" style="display: flex; align-items: flex-start; gap: 0.5em; cursor: pointer; border: 2px solid #000; padding: 1em;">
            <input type="radio" name="color-preset" value="#FFFF00" data-r="255" data-g="255" data-b="0" style="margin-top: 0.25em;">
            <div style="flex: 1;">
              <div style="display: inline-block; width: 2em; height: 2em; background: #FFFF00; border: 1px solid #000; margin-bottom: 0.5em;"></div>
              <div style="font-weight: bold;">Yellow</div>
              <div style="font-size: 0.75em; font-family: monospace;">#FFFF00</div>
            </div>
          </label>

          <label class="preset-card" style="display: flex; align-items: flex-start; gap: 0.5em; cursor: pointer; border: 2px solid #000; padding: 1em;">
            <input type="radio" name="color-preset" value="#FF00FF" data-r="255" data-g="0" data-b="255" style="margin-top: 0.25em;">
            <div style="flex: 1;">
              <div style="display: inline-block; width: 2em; height: 2em; background: #FF00FF; border: 1px solid #000; margin-bottom: 0.5em;"></div>
              <div style="font-weight: bold;">Magenta</div>
              <div style="font-size: 0.75em; font-family: monospace;">#FF00FF</div>
            </div>
          </label>

          <label class="preset-card" style="display: flex; align-items: flex-start; gap: 0.5em; cursor: pointer; border: 2px solid #000; padding: 1em;">
            <input type="radio" name="color-preset" value="#00FFFF" data-r="0" data-g="255" data-b="255" style="margin-top: 0.25em;">
            <div style="flex: 1;">
              <div style="display: inline-block; width: 2em; height: 2em; background: #00FFFF; border: 1px solid #000; margin-bottom: 0.5em;"></div>
              <div style="font-weight: bold;">Cyan</div>
              <div style="font-size: 0.75em; font-family: monospace;">#00FFFF</div>
            </div>
          </label>
        </div>
      </fieldset>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Typography Section -->
  <section>
    <h2>Typography</h2>

    <h1>Heading 1</h1>
    <h2>Heading 2</h2>
    <h3>Heading 3</h3>
    <h4>Heading 4</h4>
    <h5>Heading 5</h5>
    <h6>Heading 6</h6>

    <p>This is a paragraph with <a href="#">a link</a>, <strong>bold text</strong>, <em>italic text</em>, and <code>inline code</code>.</p>

    <p class="text--gradient">Gradient text (styled by theme layer)</p>
  </section>

  <div class="divider"></div>

  <!-- Badges Section -->
  <section>
    <h2>Badges</h2>

    <h3>Standard Badges</h3>
    <div class="flex gap-sm" style="margin-bottom: 1.5em; flex-wrap: wrap;">
      <span class="badge">Default</span>
      <span class="badge badge--primary">Primary</span>
      <span class="badge badge--success">Success</span>
      <span class="badge badge--warning">Warning</span>
      <span class="badge badge--error">Error</span>
      <span class="badge badge--info">Info</span>
      <span class="badge badge--neutral">Neutral</span>
    </div>

    <h3>Rank Badges</h3>
    <div class="flex gap-sm flex--wrap">
      <span class="badge badge--rank">1</span>
      <span class="badge badge--rank">2</span>
      <span class="badge badge--rank">3</span>
      <span class="badge badge--rank">4</span>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Loading & Progress Section -->
  <section>
    <h2>Loading & Progress</h2>

    <h3>Spinners</h3>
    <div class="flex gap-md items-center mb-lg">
      <div class="spinner spinner--sm"></div>
      <div class="spinner"></div>
      <div class="spinner spinner--lg"></div>
    </div>

    <h3>Progress Bars</h3>
    <div class="mb-md">
      <div class="progress">
        <div class="progress__bar" style="width: 75%;"></div>
      </div>
    </div>

    <div class="mb-md">
      <div class="progress progress--success">
        <div class="progress__bar w-full"></div>
      </div>
    </div>

    <div>
      <div class="progress progress--warning">
        <div class="progress__bar" style="width: 45%;"></div>
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Alerts Section -->
  <section>
    <h2>Alerts</h2>

    <div class="alert alert--success">
      <p class="alert__title">Success!</p>
      <p class="alert__message">Your changes have been saved successfully.</p>
    </div>

    <div class="alert alert--warning">
      <p class="alert__title">Warning</p>
      <p class="alert__message">Please review your information before proceeding.</p>
    </div>

    <div class="alert alert--error">
      <p class="alert__title">Error</p>
      <p class="alert__message">An error occurred while processing your request.</p>
    </div>

    <div class="alert alert--info">
      <p class="alert__title">Information</p>
      <p class="alert__message">New features are now available. Check them out!</p>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Toast Notification Section -->
  <section>
    <h2>Toast Notifications</h2>
    <p class="mb-md">Toast notifications appear in the top-right corner of the page.</p>

    <button class="btn btn--primary" onclick="showToast('success')">Show Success Toast</button>
    <button class="btn btn--warning" onclick="showToast('warning')">Show Warning Toast</button>
    <button class="btn btn--error" onclick="showToast('error')">Show Error Toast</button>
    <button class="btn" onclick="showToast('info')">Show Info Toast</button>
  </section>

  <div class="divider"></div>

  <!-- File Upload Section -->
  <section>
    <h2>File Upload</h2>

    <div class="upload" id="file-upload">
      <input type="file" id="file-input" class="upload__input" multiple>
      <label for="file-input" class="upload__label">
        <span class="upload__icon">üìÅ</span>
        <span class="upload__text">Drop your file here</span>
        <span class="upload__hint">or click to browse</span>
        <button type="button" class="btn btn--primary upload__button">Choose File</button>
      </label>
      <div class="upload__file-list" id="file-list"></div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Toggle Switch Section -->
  <section>
    <h2>Toggle Switch</h2>

    <label class="toggle">
      <input type="checkbox" class="toggle__input" id="toggle-1">
      <span class="toggle__track">
        <span class="toggle__thumb"></span>
      </span>
      <span class="toggle__label">Enable notifications</span>
    </label>

    <br><br>

    <label class="toggle">
      <input type="checkbox" class="toggle__input" id="toggle-2" checked>
      <span class="toggle__track">
        <span class="toggle__thumb"></span>
      </span>
      <span class="toggle__label">Dark mode (checked)</span>
    </label>
  </section>

  <div class="divider"></div>

  <!-- Layout Section -->
  <section>
    <h2>Layout Utilities</h2>

    <h3>Flex Layout</h3>
    <div class="flex justify-between items-center" style="border: 1px solid #000; padding: 1em; margin-bottom: 1em;">
      <span>Left</span>
      <span>Center</span>
      <span>Right</span>
    </div>

    <h3>Grid Layout</h3>
    <div class="grid grid--3">
      <div style="border: 1px solid #000; padding: 1em;">Grid Item 1</div>
      <div style="border: 1px solid #000; padding: 1em;">Grid Item 2</div>
      <div style="border: 1px solid #000; padding: 1em;">Grid Item 3</div>
      <div style="border: 1px solid #000; padding: 1em;">Grid Item 4</div>
      <div style="border: 1px solid #000; padding: 1em;">Grid Item 5</div>
      <div style="border: 1px solid #000; padding: 1em;">Grid Item 6</div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Result Card Section -->
  <section>
    <h2>Result Card</h2>
    <p class="mb-md">Result cards display metrics and summary information.</p>

    <div class="result-card">
      <header class="result-card__header">
        <h3 class="result-card__title">Analysis Results</h3>
        <p class="result-card__subtitle">Data processing completed</p>
      </header>

      <div class="result-card__metrics">
        <div class="result-card__metric">
          <div class="result-card__metric-label">Total Items</div>
          <div class="result-card__metric-value">1,247</div>
        </div>

        <div class="result-card__metric">
          <div class="result-card__metric-label">Success Rate</div>
          <div class="result-card__metric-value">98.5%</div>
        </div>

        <div class="result-card__metric">
          <div class="result-card__metric-label">Processing Time</div>
          <div class="result-card__metric-value">3.2s</div>
        </div>

        <div class="result-card__metric">
          <div class="result-card__metric-label">Status</div>
          <div class="result-card__metric-value">Done</div>
        </div>
      </div>

      <footer class="result-card__footer">
        <button class="btn btn--primary">Download Report</button>
        <button class="btn btn--secondary">View Details</button>
      </footer>
    </div>
  </section>

  <div class="divider"></div>

  <!-- List Card Section -->
  <section>
    <h2>List Card</h2>
    <p class="mb-md">List cards display a collection of items with status indicators.</p>

    <div class="list-card">
      <header class="list-card__header">
        <h3 class="list-card__title">Recent Reports</h3>
      </header>

      <ul class="list-card__list">
        <li class="list-card__item">
          <div class="list-card__item-content">
            <h4 class="list-card__item-title">Q4 Financial Report</h4>
            <p class="list-card__item-subtitle">Last updated 2 hours ago</p>
          </div>
          <div class="list-card__item-meta">
            <span class="list-card__item-status list-card__item-status--success">Complete</span>
          </div>
        </li>

        <li class="list-card__item">
          <div class="list-card__item-content">
            <h4 class="list-card__item-title">Customer Analytics</h4>
            <p class="list-card__item-subtitle">Last updated 5 hours ago</p>
          </div>
          <div class="list-card__item-meta">
            <span class="list-card__item-status list-card__item-status--warning">Processing</span>
          </div>
        </li>

        <li class="list-card__item">
          <div class="list-card__item-content">
            <h4 class="list-card__item-title">Inventory Audit</h4>
            <p class="list-card__item-subtitle">Last updated 1 day ago</p>
          </div>
          <div class="list-card__item-meta">
            <span class="list-card__item-status list-card__item-status--error">Failed</span>
          </div>
        </li>

        <li class="list-card__item">
          <div class="list-card__item-content">
            <h4 class="list-card__item-title">Marketing Campaign</h4>
            <p class="list-card__item-subtitle">Last updated 2 days ago</p>
          </div>
          <div class="list-card__item-meta">
            <span class="list-card__item-status list-card__item-status--info">Scheduled</span>
          </div>
        </li>
      </ul>
    </div>
  </section>

  <footer style="margin-top: 4em; padding-top: 2em; border-top: 1px solid #000;">
    <p><strong>Craigslist Mode:</strong> BASE theme via Spectra (node-id="BASE")</p>
    <p>Minimal styling, no animations, no shadows. Browser-default aesthetic.</p>
    <p>
      <a href="demo-index.html">‚Üê Demo Index</a> |
      <a href="spectra-live.html">Live Spectra Theme ‚Üí</a>
    </p>
  </footer>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Toast Notification JavaScript -->
  <script>
    let toastId = 0;

    function showToast(type) {
      const container = document.getElementById('toast-container');
      const id = `toast-${toastId++}`;

      const titles = {
        success: '‚úì Success',
        warning: '‚ö† Warning',
        error: '‚úï Error',
        info: '‚Ñπ Info'
      };

      const messages = {
        success: 'Your action completed successfully!',
        warning: 'Please be careful with this action.',
        error: 'Something went wrong. Please try again.',
        info: 'Here is some useful information.'
      };

      const toast = document.createElement('div');
      toast.className = `toast toast--${type}`;
      toast.id = id;
      toast.innerHTML = `
        <span class="toast__icon">${titles[type].charAt(0)}</span>
        <div class="toast__content">
          <p class="toast__title">${titles[type]}</p>
          <p class="toast__message">${messages[type]}</p>
        </div>
        <button class="toast__close" onclick="closeToast('${id}')">&times;</button>
      `;

      container.appendChild(toast);

      // Auto-dismiss after 5 seconds
      setTimeout(() => closeToast(id), 5000);
    }

    function closeToast(id) {
      const toast = document.getElementById(id);
      if (toast) {
        toast.remove();
      }
    }
  </script>

  <!-- File Upload JavaScript -->
  <script>
    const uploadArea = document.getElementById('file-upload');
    const fileInput = document.getElementById('file-input');
    const fileList = document.getElementById('file-list');
    const uploadButton = uploadArea.querySelector('.upload__button');
    let selectedFiles = [];

    // Make button trigger file input
    uploadButton.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      fileInput.click();
    });

    // Prevent default drag behaviors
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, preventDefaults, false);
      document.body.addEventListener(eventName, preventDefaults, false);
    });

    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }

    // Highlight drop area when dragging over it
    ['dragenter', 'dragover'].forEach(eventName => {
      uploadArea.addEventListener(eventName, () => {
        uploadArea.classList.add('upload--dragover');
      }, false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, () => {
        uploadArea.classList.remove('upload--dragover');
      }, false);
    });

    // Handle dropped files
    uploadArea.addEventListener('drop', (e) => {
      const files = e.dataTransfer.files;
      handleFiles(files);
    }, false);

    // Handle selected files
    fileInput.addEventListener('change', (e) => {
      handleFiles(e.target.files);
    });

    function handleFiles(files) {
      selectedFiles = Array.from(files);
      displayFiles();
    }

    function displayFiles() {
      fileList.innerHTML = '';
      selectedFiles.forEach((file, index) => {
        const fileItem = document.createElement('div');
        fileItem.className = 'upload__file';
        fileItem.innerHTML = `
          <span class="upload__file-name">${file.name}</span>
          <span class="upload__file-size">${formatBytes(file.size)}</span>
          <button class="upload__file-remove" onclick="removeFile(${index})">&times;</button>
        `;
        fileList.appendChild(fileItem);
      });
    }

    function removeFile(index) {
      selectedFiles.splice(index, 1);
      displayFiles();
    }

    function formatBytes(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
    }
  </script>

  <!-- Slider value display -->
  <script>
    // Function to get semantic label for RGB sliders
    function getColorLabel(value, colorName) {
      if (value === 0) return `No ${colorName}`;
      if (value < 85) return `Low ${colorName}`;
      if (value < 170) return `Medium ${colorName}`;
      if (value < 255) return `High ${colorName}`;
      return `Maximum ${colorName}`;
    }

    document.querySelectorAll('input[type="range"]').forEach(slider => {
      const output = document.querySelector(`output[for="${slider.id}"]`);
      if (!output) return;

      slider.addEventListener('input', (e) => {
        const value = parseInt(e.target.value);

        if (slider.id === 'r-slider') {
          output.textContent = getColorLabel(value, 'Red');
        } else if (slider.id === 'g-slider') {
          output.textContent = getColorLabel(value, 'Green');
        } else if (slider.id === 'b-slider') {
          output.textContent = getColorLabel(value, 'Blue');
        } else if (!output.textContent.match(/[a-zA-Z]/)) {
          output.textContent = value;
        }
      });
    });
  </script>

  <!-- Preset + Slider Synchronization -->
  <script>
    const presetRadios = document.querySelectorAll('input[name="color-preset"]');
    const rSlider = document.getElementById('r-slider');
    const gSlider = document.getElementById('g-slider');
    const bSlider = document.getElementById('b-slider');
    const rOutput = document.querySelector('output[for="r-slider"]');
    const gOutput = document.querySelector('output[for="g-slider"]');
    const bOutput = document.querySelector('output[for="b-slider"]');

    // Update visual state of preset cards
    function updatePresetCardStyles() {
      presetRadios.forEach(radio => {
        const card = radio.parentElement;
        if (radio.checked) {
          card.style.borderWidth = '3px';
          card.style.background = '#f0f0f0';
        } else {
          card.style.borderWidth = '2px';
          card.style.background = 'transparent';
        }
      });
    }

    // When a preset is selected, update sliders
    presetRadios.forEach(radio => {
      radio.addEventListener('change', (e) => {
        if (e.target.checked) {
          const r = parseInt(e.target.dataset.r);
          const g = parseInt(e.target.dataset.g);
          const b = parseInt(e.target.dataset.b);

          rSlider.value = r;
          gSlider.value = g;
          bSlider.value = b;

          rOutput.textContent = getColorLabel(r, 'Red');
          gOutput.textContent = getColorLabel(g, 'Green');
          bOutput.textContent = getColorLabel(b, 'Blue');

          updatePresetCardStyles();
        }
      });
    });

    // Initialize on page load
    updatePresetCardStyles();
  </script>

  <!-- SPECTRA INTEGRATION with BASE theme -->
  <script src="js/spectra-theme.js" data-node-id="BASE" data-debug></script>
  <script src="js/spectra-bridge.js"></script>
</body>
</html>
